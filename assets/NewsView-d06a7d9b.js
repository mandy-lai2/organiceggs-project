import{m as b}from"./modalMixin-8571d0f8.js";import{_ as p,o as c,c as d,a as e,t as l,r,b as _,w as f,F as m,h as v,d as N}from"./index-e19f4a21.js";import{L as I}from"./LoadingAnimation-c5fb73fd.js";const{VITE_API:A,VITE_APIPATH:$}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_APIPATH:"mandyapi",BASE_URL:"/organiceggs-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},L={props:{newId:{type:String,default(){return""}}},data(){return{tempNew:{},modal:""}},mixins:[b],watch:{newId(){this.getNew()}},methods:{getNew(){this.$http.get(`${A}/api/${$}/article/${this.newId}`).then(t=>{console.log("getnew->",t.data.article),this.tempNew=t.data.article}).catch(t=>{alert(t.response.data.message)})},clearNew(){this.tempNew={}}}},T={class:"modal fade",id:"modal",tabindex:"-1","aria-labelledby":"modalLabel","aria-hidden":"true",ref:"modal"},V={class:"modal-dialog modal-lg"},y={class:"modal-content"},E={class:"modal-header"},P={class:"modal-title",id:"modalLabel"},x={class:"modal-body text-center"},M=["src"],C={class:"mt-3"},S=["innerHTML"],k={class:"modal-footer"};function D(t,o,h,u,s,n){return c(),d("div",T,[e("div",V,[e("div",y,[e("div",E,[e("h5",P,l(s.tempNew.title),1),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:o[0]||(o[0]=(...i)=>n.clearNew&&n.clearNew(...i))})]),e("div",x,[e("div",null,[e("img",{src:s.tempNew.imageUrl,class:"img-fluid w-50"},null,8,M)]),e("h5",C,l(s.tempNew.title),1),e("p",{class:"my-3",innerHTML:s.tempNew.content},null,8,S)]),e("div",k,[e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:o[1]||(o[1]=(...i)=>n.clearNew&&n.clearNew(...i))}," 取消 ")])])])],512)}const H=p(L,[["render",D]]),{VITE_API:B,VITE_APIPATH:O}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_APIPATH:"mandyapi",BASE_URL:"/organiceggs-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},R={data(){return{news:[],tempNew:"",isLoading:!1}},components:{NewsModal:H,LoadingAnimation:I},methods:{getNews(){this.isLoading=!0,console.log(this.isLoading),this.$http.get(`${B}/api/${O}/articles`).then(t=>{this.news=t.data.articles,this.isLoading=!1}).catch(t=>{alert(t.response.data.message)})},OpenModal(t){const o=this.$refs.newsModal;this.tempNew=t,o.openModal()}},mounted(){this.getNews()}},j=e("header",null,[e("div",{class:"bgImageCover pageBanner d-flex flex-column justify-content-center align-items-start"},[e("div",null,[e("h2",{class:"py-3"},[N("最新消息"),e("span",{class:"text-uppercase"},"News")]),e("hr",{class:"border border-maincolor border-2 opacity-100"})])])],-1),U={class:"container my-5"},F={class:"row"},q=["onClick"],z={class:"row g-0"},G={class:"col-4 align-self-center"},J=["src","alt"],K={class:"col-8"},Q={class:"card-body"},W={class:"card-title"},X={class:"card-text"},Y=e("button",{type:"button",class:"btn btn-buttonbg"},"看更多",-1);function Z(t,o,h,u,s,n){const i=r("LoadingAnimation"),g=r("VLoading"),w=r("NewsModal");return c(),d(m,null,[_(g,{active:s.isLoading},{default:f(()=>[_(i)]),_:1},8,["active"]),j,e("section",null,[e("div",U,[e("div",F,[(c(!0),d(m,null,v(s.news,a=>(c(),d("div",{class:"col-md-6",key:a.id},[e("div",{class:"card mb-3 newsCard",onClick:ee=>n.OpenModal(a.id)},[e("div",z,[e("div",G,[e("img",{src:a.imageUrl,class:"img-fluid object-cover rounded-start",alt:a.title},null,8,J)]),e("div",K,[e("div",Q,[e("small",null,l(a.create_at),1),e("h5",W,l(a.title),1),e("p",X,l(a.description),1),Y])])])],8,q)]))),128)),_(w,{ref:"newsModal","new-id":s.tempNew},null,8,["new-id"])])])])],64)}const ae=p(R,[["render",Z]]);export{ae as default};
