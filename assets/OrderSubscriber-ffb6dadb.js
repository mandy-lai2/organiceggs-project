import{_ as v,m as y,f as V,r as d,o as m,c as u,a as e,b as t,w as b,F as x,d as h,n as c}from"./index-e19f4a21.js";import{c as _}from"./cartStore-48d44e67.js";import"./loadingStore-c2872b6d.js";import"./sweetalert2.all-904252d4.js";const{VITE_API:k,VITE_APIPATH:E}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_APIPATH:"mandyapi",BASE_URL:"/organiceggs-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},I={data(){return{data:{user:{email:"",name:"",tel:"",address:""},message:""}}},computed:{...y(_,["carts"])},methods:{...V(_,["getCarts"]),isPhone(o){return/^(09)[0-9]{8}$/.test(o)?!0:"須為正確的手機號碼格式"},onSubmit(){const o=this.data;this.$http.post(`${k}/api/${E}/order`,{data:o}).then(s=>{console.log(s.data),alert(s.data.message),this.$refs.form.resetForm(),this.$router.push({path:`payment/${s.data.orderId}`})}).catch(s=>{alert(s.response.data.message)})}},mounted(){this.getCarts()}},A=e("header",null,[e("div",{class:"bgImageCover pageBanner d-flex flex-column justify-content-center align-items-start"},[e("div",null,[e("h2",{class:"py-3"},[h("填寫資料"),e("span",{class:"text-uppercase"},"Information")]),e("hr",{class:"border border-maincolor border-2 opacity-100"})])])],-1),P=e("section",null,[e("div",{class:"container my-6"},[e("div",{class:"position-relative m-4 orderProgress"},[e("div",{class:"progress",style:{height:"2px"}},[e("div",{class:"progress-bar",role:"progressbar",style:{width:"33%"},"aria-valuenow":"33","aria-valuemin":"0","aria-valuemax":"100"})]),e("button",{class:"position-absolute top-0 start-0 translate-middle btn btn-lg btn-buttonbg rounded-pill py-0"},[e("i",{class:"bi bi-cart3"}),e("span",{class:"text-maingray"},"購物車 ")]),e("button",{class:"position-absolute top-0 start-33 translate-middle btn btn-lg btn-buttonbg rounded-pill py-0"},[e("i",{class:"bi bi-pencil"}),e("span",{class:"text-maingray"},"填寫資料")]),e("button",{class:"position-absolute top-0 start-66 translate-middle btn btn-lg btn-secondarylight rounded-pill py-0"},[e("i",{class:"bi bi-check-lg"}),e("span",{class:"text-maingray"},"付款方式")]),e("button",{class:"position-absolute top-0 start-100 translate-middle btn btn-lg btn-secondarylight rounded-pill py-0"},[e("i",{class:"bi bi-clipboard-check"}),e("span",{class:"text-maingray"},"訂單完成")])])])],-1),S={key:0,class:"container mt-5"},T={class:"mb-3"},N=e("label",{for:"inputEmail",class:"form-label"},"Email:",-1),w={class:"mb-3"},C=e("label",{for:"inputName",class:"form-label"},"收件人姓名:",-1),U={class:"mb-3"},B=e("label",{for:"inputTel",class:"form-label"},"聯絡電話:",-1),R={class:"mb-3"},q=e("label",{for:"inputAddress",class:"form-label"},"收件人地址:",-1),D={class:"mb-3"},F=e("label",{for:"textareaRemark",class:"form-label"},"備註:",-1),O=e("div",{class:"text-center"},[e("button",{type:"submit",class:"btn btn-buttonbg"},"送出訂單")],-1),j={key:1,class:"text-center"},H={class:"container my-5"},z={class:"hstack gap-3"};function L(o,s,M,G,a,p){const n=d("v-field"),r=d("error-message"),f=d("v-form"),g=d("router-link");return m(),u(x,null,[A,P,e("section",null,[o.carts.carts.length?(m(),u("div",S,[t(f,{ref:"form",class:"bg-light p-sm-5 p-4 w-85 mx-auto",onSubmit:p.onSubmit},{default:b(({errors:i})=>[e("div",T,[N,t(n,{type:"email",class:c(["form-control",{"is-invalid":i.email}]),id:"inputEmail",name:"email",placeholder:"請輸入Email",rules:"email|required",modelValue:a.data.user.email,"onUpdate:modelValue":s[0]||(s[0]=l=>a.data.user.email=l)},null,8,["class","modelValue"]),t(r,{name:"email",class:"invalid-feedback"})]),e("div",w,[C,t(n,{type:"text",class:c(["form-control",{"is-invalid":i.姓名}]),id:"inputName",name:"姓名",placeholder:"請輸入姓名",rules:"required",modelValue:a.data.user.name,"onUpdate:modelValue":s[1]||(s[1]=l=>a.data.user.name=l)},null,8,["class","modelValue"]),t(r,{name:"姓名",class:"invalid-feedback"})]),e("div",U,[B,t(n,{type:"tel",class:c(["form-control",{"is-invalid":i.電話}]),id:"inputTel",name:"電話",placeholder:"請輸入電話",rules:p.isPhone,modelValue:a.data.user.tel,"onUpdate:modelValue":s[2]||(s[2]=l=>a.data.user.tel=l)},null,8,["class","rules","modelValue"]),t(r,{name:"電話",class:"invalid-feedback"})]),e("div",R,[q,t(n,{type:"text",class:c(["form-control",{"is-invalid":i.地址}]),id:"inputAddress",name:"地址",placeholder:"請輸入地址",rules:"required",modelValue:a.data.user.address,"onUpdate:modelValue":s[3]||(s[3]=l=>a.data.user.address=l)},null,8,["class","modelValue"]),t(r,{name:"地址",class:"invalid-feedback"})]),e("div",D,[F,t(n,{as:"textarea",class:"form-control",id:"textareaRemark",name:"留言",cols:"30",rows:"10",modelValue:a.data.message,"onUpdate:modelValue":s[4]||(s[4]=l=>a.data.message=l)},null,8,["modelValue"])]),O]),_:1},8,["onSubmit"])])):(m(),u("h4",j,"購物車裡沒東西喔!!"))]),e("section",null,[e("div",H,[e("div",z,[e("div",null,[t(g,{to:"/order/carts",class:"btn btn-buttonbg"},{default:b(()=>[h("上一頁")]),_:1})])])])])],64)}const X=v(I,[["render",L]]);export{X as default};
