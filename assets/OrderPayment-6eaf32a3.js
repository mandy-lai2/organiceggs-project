import{_ as y,m as u,f,r as l,o as a,c as n,b as i,w as p,F as d,a as t,h as k,t as o,D as _,d as r,g as w}from"./index-e19f4a21.js";import{o as h}from"./orderStore-e807518e.js";import{l as x}from"./loadingStore-c2872b6d.js";import{L as D}from"./LoadingAnimation-c5fb73fd.js";const L={data(){return{currentOrderId:""}},components:{LoadingAnimation:D},computed:{...u(h,["orderData","orderProducts"]),...u(x,["isLoading"])},methods:{...f(h,["orderPay","getOrder"])},mounted(){this.currentOrderId=this.$route.params.orderId,this.getOrder(this.currentOrderId)}},N=t("header",null,[t("div",{class:"bgImageCover pageBanner d-flex flex-column justify-content-center align-items-start"},[t("div",null,[t("h2",{class:"py-3"},[r("付款方式"),t("span",{class:"text-uppercase"},"payment")]),t("hr",{class:"border border-maincolor border-2 opacity-100"})])])],-1),$=t("section",null,[t("div",{class:"container my-6"},[t("div",{class:"position-relative m-4 orderProgress"},[t("div",{class:"progress",style:{height:"2px"}},[t("div",{class:"progress-bar",role:"progressbar",style:{width:"66%"},"aria-valuenow":"33","aria-valuemin":"0","aria-valuemax":"100"})]),t("button",{class:"position-absolute top-0 start-0 translate-middle btn btn-lg btn-buttonbg rounded-pill py-0"},[t("i",{class:"bi bi-cart3"}),t("span",{class:"text-maingray"},"購物車 ")]),t("button",{class:"position-absolute top-0 start-33 translate-middle btn btn-lg btn-buttonbg rounded-pill py-0"},[t("i",{class:"bi bi-pencil"}),t("span",{class:"text-maingray"},"填寫資料")]),t("button",{class:"position-absolute top-0 start-66 translate-middle btn btn-lg btn-buttonbg rounded-pill py-0"},[t("i",{class:"bi bi-check-lg"}),t("span",{class:"text-maingray"},"付款方式")]),t("button",{class:"position-absolute top-0 start-100 translate-middle btn btn-lg btn-secondarylight rounded-pill py-0"},[t("i",{class:"bi bi-clipboard-check"}),t("span",{class:"text-maingray"},"訂單完成")])])])],-1),I={class:"container mt-5"},O=t("h5",null,"訂單明細",-1),P={class:"border"},V={class:"table-responsive-lg"},T={class:"table align-middle mb-0"},A=t("thead",null,[t("tr",null,[t("th",{scope:"col"}),t("th",{scope:"col"},"訂購品項"),t("th",{scope:"col"},"價格"),t("th",{scope:"col"},"小計")])],-1),C={scope:"row",class:"w-sm-50"},S=["src"],B={class:"text-maingreen"},E={class:"text-decoration-line-through text-mainred"},F={key:0,class:"text-success"},j={class:"vstack gap-2 text-end totalInfo"},q={class:"fw-bolder"},M={class:"container my-5"},U={class:"d-flex"},z={class:"p-2 col-md-6"},G=t("h5",null,"訂購資訊",-1),H={class:"table border"},J={key:0},K=t("th",{scope:"row"},"收件人姓名",-1),Q=t("th",{scope:"row"},"Email",-1),R=t("th",{scope:"row"},"聯絡電話",-1),W=t("th",{scope:"row"},"收件人地址",-1),X=t("th",{scope:"row"},"備註",-1),Y=w('<div class="p-2 col-md-6"><h5>付款方式</h5><select class="form-select" aria-label="selectPay"><option selected>請選擇付款方式</option><option value="1">貨到付款</option><option value="2">信用卡</option><option value="3">ATM</option></select></div>',1),Z={class:"container my-5"},tt={class:"hstack gap-3"},st={class:"ms-auto"},ot={key:1,class:"my-5 text-center"},et=t("h4",{class:"mb-3"},"請前往購物",-1);function at(s,c,nt,rt,b,lt){const m=l("LoadingAnimation"),g=l("VLoading"),v=l("router-link");return a(),n(d,null,[i(g,{active:s.isLoading},{default:p(()=>[i(m)]),_:1},8,["active"]),N,s.orderData.is_paid?(a(),n("div",ot,[et,i(v,{to:"/products",class:"btn btn-outline-buttonbg"},{default:p(()=>[r("產品專區")]),_:1})])):(a(),n(d,{key:0},[$,t("section",null,[t("div",I,[O,t("div",P,[t("div",V,[t("table",T,[A,t("tbody",null,[(a(!0),n(d,null,k(s.orderProducts,e=>(a(),n("tr",{key:e.id},[t("th",C,[t("img",{class:"max-width-130 w-100",src:e.product.imageUrl,alt:""},null,8,S)]),t("td",null,[r(o(e.product.title)+" ",1),t("div",B," 數量: "+o(e.qty),1)]),t("td",null,[t("div",E,"NT$"+o(e.product.origin_price),1),r(" NT$"+o(e.product.price),1)]),t("td",null,[r("NT$"+o(e.final_total)+" ",1),e.coupon?(a(),n("div",F,"已套用優惠券")):_("",!0)])]))),128))])])]),t("div",j,[t("div",q,"應付金額: NT$"+o(s.orderData.total),1)])])])]),t("section",null,[t("div",M,[t("div",U,[t("div",z,[G,t("table",H,[s.orderData.user?(a(),n("tbody",J,[t("tr",null,[K,t("td",null,o(s.orderData.user.name),1)]),t("tr",null,[Q,t("td",null,o(s.orderData.user.email),1)]),t("tr",null,[R,t("td",null,o(s.orderData.user.tel),1)]),t("tr",null,[W,t("td",null,o(s.orderData.user.address),1)]),t("tr",null,[X,t("td",null,o(s.orderData.message),1)])])):_("",!0)])]),Y])])]),t("section",null,[t("div",Z,[t("div",tt,[t("div",st,[t("button",{type:"button",class:"btn btn-buttonbg",onClick:c[0]||(c[0]=e=>s.orderPay(b.currentOrderId))},"確認結帳")])])])])],64))],64)}const pt=y(L,[["render",at]]);export{pt as default};
