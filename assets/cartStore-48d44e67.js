import{E as p,G as i,H as g}from"./index-e19f4a21.js";import{l as u}from"./loadingStore-c2872b6d.js";import{S as c}from"./sweetalert2.all-904252d4.js";const{VITE_API:r,VITE_APIPATH:n}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_APIPATH:"mandyapi",BASE_URL:"/organiceggs-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},a=u(),m=p("cartStore",{state:()=>({carts:{}}),actions:{addCart(t,s=1,e=""){a.isLoading=!0;const d={product_id:t,qty:s};i.post(`${r}/api/${n}/cart`,{data:d}).then(o=>{c.fire({position:"center",icon:"success",title:o.data.message,showConfirmButton:!1,timer:1800}),this.getCarts(),e==="toCarts"&&this.pushCarts(),a.isLoading=!1}).catch(o=>{alert(o.response.data.message)})},pushCarts(){g.push({path:"/order/carts"})},getCarts(){a.isLoading=!0,i.get(`${r}/api/${n}/cart`).then(t=>{this.carts=t.data.data,a.isLoading=!1}).catch(t=>{alert(t.response.data.message)})},updateCart(t,s,e){e<1&&(e=1),a.isLoading=!0;const d={product_id:s,qty:e};i.put(`${r}/api/${n}/cart/${t}`,{data:d}).then(o=>{c.fire({position:"center",icon:"success",title:o.data.message,showConfirmButton:!1,timer:1500}),this.getCarts(),a.isLoading=!1}).catch(o=>{alert(o.response.data.message)})},delCart(t){a.isLoading=!0,i.delete(`${r}/api/${n}/cart/${t}`).then(s=>{c.fire({position:"center",icon:"success",title:s.data.message,showConfirmButton:!1,timer:1500}),this.getCarts(),a.isLoading=!1}).catch(s=>{alert(s.response.data.message)})},sentCoupon(t){a.isLoading=!0;const s={code:t};i.post(`${r}/api/${n}/coupon`,{data:s}).then(e=>{c.fire({position:"center",icon:"success",title:e.data.message,showConfirmButton:!1,timer:1500}),this.getCarts(),a.isLoading=!1}).catch(e=>{alert(e.response.data.message)})}},getters:{}});export{m as c};
